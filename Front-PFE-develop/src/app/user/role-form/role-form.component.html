<app-topbar></app-topbar>

<div class="main-container">
  <!-- Sidebar (côté gauche) -->
  <app-sidebar></app-sidebar>

  <!-- Contenu principal (formulaire à droite) -->
  <div class="main-content">
    <div class="create-role-form">
      <h2>Crée un rôle</h2>
      <form (ngSubmit)="saveNewRole()">
        <div class="form-group">
          <label for="roleName">Nom du rôle</label>
          <input type="text" id="roleName" [(ngModel)]="newRoleName" name="roleName" required>
        </div>

        <div class="form-group">
          <label>Permissions</label>
          <div class="permissions-list">
            <div *ngFor="let permission of paginatedPermissions">
                <label>
                  <input type="checkbox" [value]="permission.id" (change)="togglePermission(permission.id)">
                  {{ permission.name }}
                </label>
              </div>
            
              <!-- Pagination controls -->
              <div class="pagination">
                <button [disabled]="currentPage === 1" (click)="changePage(currentPage - 1)">Précédent</button>
                
                <span>Page {{ currentPage }} of {{ getTotalPages() }}</span>
                
                <button [disabled]="currentPage === getTotalPages()" (click)="changePage(currentPage + 1)">Suivant</button>
              </div>
            </div>
            
        </div>

        <div class="form-group">
          <label for="newPermission">Ajouter nouvelle permission</label>
          <input type="text" id="newPermission" [(ngModel)]="newPermission" name="newPermission" placeholder="New permission">
          <button type="button" (click)="addNewPermission()">Ajouter permission</button>
        </div>

        <button type="submit" class="btn-create-role">Enregistrer role</button>
      </form>

      <!-- Pagination controls -->
      <div>
        <!-- Displaying paginated permissions -->
        
</div>
